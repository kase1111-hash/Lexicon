# Linguistic Stratigraphy - Staging Environment Configuration
# This file contains staging-specific settings that mirror production

# =============================================================================
# Environment
# =============================================================================
ENVIRONMENT=staging
DEBUG=false
APP_VERSION=0.1.0-staging

# =============================================================================
# Database Configuration
# =============================================================================

# Neo4j Graph Database
NEO4J_URI=bolt://neo4j-staging:7687
NEO4J_USER=neo4j
# Set via secrets manager or environment override
NEO4J_PASSWORD=

# PostgreSQL
POSTGRES_HOST=postgres-staging
POSTGRES_PORT=5432
POSTGRES_DB=linguistic_stratigraphy_staging
POSTGRES_USER=ls_user
# Set via secrets manager or environment override
POSTGRES_PASSWORD=

# Elasticsearch
ELASTICSEARCH_HOSTS=http://elasticsearch-staging:9200

# Redis
REDIS_HOST=redis-staging
REDIS_PORT=6379
REDIS_DB=0

# Milvus
MILVUS_HOST=milvus-staging
MILVUS_PORT=19530

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2

# Authentication enabled
# Set via secrets manager or environment override
API_KEY=
JWT_SECRET=
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# Restricted CORS
CORS_ORIGINS=https://staging.linguistic-stratigraphy.com,https://staging-admin.linguistic-stratigraphy.com
CORS_ALLOW_CREDENTIALS=true

# Rate limiting enabled
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=200
RATE_LIMIT_WINDOW_SECONDS=60

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=

# Component-specific levels
API_LOG_LEVEL=INFO
PIPELINE_LOG_LEVEL=INFO
DB_LOG_LEVEL=WARNING

SLOW_REQUEST_THRESHOLD_MS=1000

# =============================================================================
# Error Tracking
# =============================================================================
# Set via secrets manager or environment override
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.5
SENTRY_PROFILES_SAMPLE_RATE=0.3

# =============================================================================
# External Services
# =============================================================================
WIKTIONARY_RATE_LIMIT_MS=100
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2

# =============================================================================
# Secrets Manager
# =============================================================================
# Use AWS Secrets Manager in staging
SECRETS_PROVIDER=aws
SECRETS_AWS_REGION=us-east-1
SECRETS_AWS_SECRET_NAME=linguistic-stratigraphy/staging
